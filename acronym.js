// OBJECT OF ARRAYS SEPARATED BY BEGINNING WORD
//

const thanos = {

  a: [
      'acceptance',
      'accept acceptance',
      'audit belief',
      'acknowledgement',
      'achieve',
      'asynchronous',
      'ability',
      'adult conversations',
      'audit the truth',
      'ascending greatness mountain',
      'answering the call',
      'aspire to inspire aspirations'
    ],

  b: [
      'being ok with ok',
      'best self',
      'bring it',
      'being wonderful',
      'beating expectations',
      'behave like adults',
      'bring snacks',
      'believe in belief',
      'bacon is gross',
      'back to basics',
      'belief is believing',
      'brilliance is brilliant',
      'be brilliant',
      'brilliance breeds ideas',

  ],

  c: [
      'cauterize the wounds',
      'caring',
      'care',
      'care to dare',
      'courage',
      'courageous courage',
      'crippling the competition',
      'competitive',
      'cool your jets',
      'cop to the consequences',
      'consequences',
      'conspiracies',
      'convoluted pricing',
      'capture the flag',
      'collaboration',
      'calibrate the collaborators',
      'calibrate profits',
      'calibrate expectations',
      'calibrate courage',
      'collaborate with calibrated care',
      'calibrate care',
      'critical thinking',
      'calibrate critical resources',
      'constant calibration',
      'calibrate your constants',
      'constrain the contraints',
      'conceive conceptions',
      'concepts calibrate competition'
  ],

  d: [
      'dangerous passion',
      'dial those phones',
      'dedication to dedicate',
      'dangerous dedication',
      'drive for driving',
      'drive to dedicated passion',
      'drive thru fear',
      'dont dabble',
      'drive',
      'dedication',
      'delivering excellence',
      'delivering deliverables',
      'daring',
      'dare to be daring',
      'dark thoughts'
  ],

  e: [
      'energetic energy',
      'energy',
      'engage',
      'engaging the real',
      'ensare your customer',
      'entrance your enemies',
      'enemy of my enemy',
      'excitement',
      'exuberance',
      'extreme power',
      'extreme services',
      'extreme edification'
  ],

  f: [
      'finite resources',
      'future-ability',
      'faces',
      'faces make faces',
      'fear fears the fearful',
      'fear being filled with fear',
      'fearful optimism',
      'fake numbers',
      'fraudulent is felonious',
      'free snake friday',
      'free snack friday',
      'feel your feels',
      'feels lead to feeling',
      'friction only lead to slowdown',
      'finger guns close sales',
      'freedom to freely be free'
  ],

  g: [
      'grab awesome',
      'go get it',
      'gravitate towards greatness',
      'greatness never paid for freedom',
      'gaps are traps',
      'gauge the room',
      'growing can be good',
      'growing can be bad',
      'growing is knowing',
      'get after it',
      'granular greed',
      'gratification is gratifying',
      'greatness at the expense of good',
      'good is the enemy of great',
      'great is the enemy of awesome',
      'gather resources'
  ],

  h: [
      'help others be helpful',
      'hardcore profits',
      'healthy greed',
      'healthy health',
      'health is not wealth',
      'hit your targets',
      'home is not work',
      'honor',
      'honor is also honour',
      'honor and health',
      'honor thy boss',
      'how is your mom?'
  ],

  i: [
      'ignore trends',
      'institute goals',
      'ingratiation will be tolerated',
      'ingest greatness',
      'incite a riot of profit',
      'institute ideas',
      'ideas are idyllic',
      'ideas drive innovation',
      'ignore fear',
      'ignore the imitators',
      'imitate whenever you can',
      'imitation is success',
      'in-fighting is not encouraged',
      'insignificance is not allowed',
      'imagine images',
      'imagination can be imaginative'
  ],

  j: [
      'jumble ideas',
      'jigsaw the norm',
      'join together',
      'jump at opportunity',
      'jam your day with money',
      'jumble convention',
      'jump for great ideas',
      'jump into success',
      'jingle all the way'
  ],

  k: [
      'kick down doors',
      'karate chop opposition',
      'kingpins are winners',
      'kindness never got a bonus',
      'kick start briliance',
      'keep moving fast',
      'keep it simple',
      'keep your courage',
      'keep your keys',
      'keys unlock things',
      'keys of imagination unlock dreams',
      'know the unknowns',
      'knowledge is knowing you can know',
      'know what you know',
      'know that knowing is courage',
      'know when to know',
      'keep knowing'
  ],

  l: [
      'love yourself',
      'light a fire of greatness',
      'list your goals',
      'learn from your enemy',
      'leave stupid at the door',
      'legs take you places',
      'learn to learn',
      'live to learn',
      'love to live',
      'love to learn',
      'lean in',
      'lose nothing',
      'lose yourself in greed',
      'lava is failure',
      'let it go, let it go'
  ],

  m: [
      'marginalize everything',
      'make things better',
      'move at the speed of movement',
      'make moves',
      'minimize thought',
      'minimize loss',
      'minimize loss of thought',
      'minimize forfeiture',
      'minimize minimizing',
      'maximize thought',
      'maximize loss of loss',
      'maximize forfeitures of forfeits',
      'maximize profits',
      'manuever change',
      'manuever profit obsticles'
  ],

  n: [
      'normalize normality',
      'normal is not normal',
      'needs are like needy wants',
      'navigate change',
      'navigate profits',
      'navigate greed',
      'navigate collaboration',
      'not all heroes wear capes',
      'never give up profits',
      'night time is the right time',
      'navigate courage',
      'navigate sales',
      'navigate energy',
      'navigate normal',
      'notches are for belts'
  ],

  o: [
      'oppose change',
      'oppose failure',
      'operate at high efficiency',
      'oppose losing profits',
      'oppose the poseable',
      'oppose the posers',
      'operate operationally',
      'overestimate estimates',
      'overreach the unreachable',
      'overcompensate and underwhelm',
      'over promise and under deliver',
      'overt courage',
      'overt profitability',
      'over the top',
      'open door policy',
      'openness and honesty',
      'open to more profits',
      'open to closed ideas',
      'open to change',
      'open to courage',
      'open to opportunity'
  ],

  p: [
      'prepare, prepare, prepare',
      'postpone losses',
      'presuppose suppositions',
      'propose courage',
      'prepay parking',
      'prevent forfeitures',
      'prevent failure',
      'pregame the big game',
      'pass the buck',
      'prefill the forms',
      'postpone collaboration',
      'preemptive co-operation',
      'preliminary prepository prepositions',
      'pay it forward',
      'positive change',
      'preemptive profits',
      'prequalify success'
    ],

  q: [
      'quiz success',
      'quell the haters',
      'quick judgements',
      'quick responsiveness',
      'quick success',
      'quiz the norm',
      'quick profits',
      'quake with success',
      'quake with courage',
      'quake with collaboration',
      'quake II was awesome'
  ],

  r: [
      'responsive design',
      'reasonable is nothing',
      'react reactively',
      'revise your success',
      'revisit visitation schedules',
      'remove doubt',
      'remove fear',
      'remove complexity',
      'remove the norm',
      'react with courage',
      'react with ideas',
      'react with profitable rage',
      'reason with collaboration',
      'reason opposed to reaction',
      'reaction opposes to reason',
      'remove reaction',
      'remove reason',
      'relive the good times',
      'relive the bad times',
      'reconstitute sales',
      'reconstitute courage',
      'reconstitute opposition'
  ],

  s: [
      'supply demand',
      'source resources',
      'supplant suppositions',
      'subvert the norm',
      'subject matter experts',
      'sever the bad',
      'sever tied ties',
      'sever the unsevered',
      'severus snape',
      'suppose better profits',
      'suppose courage',
      'sequence the sequential',
      'standby for success',
      'sell the sellable things',
      'sales first, courage whenever',
      'sales first, success pre-first',
      'sales first, profits first',
      'standardize amazingness',
      'supercalifragilisticexpialidocious',
      'stand down for sucking',
      'sweat less',
      'sweet lawd',
      'swing for the fences',
      'secrets are fun',
      'secrecy builds morale'
  ],

  t: [
      'total control',
      'take control',
      'turn a profit',
      'turn to success',
      'turn to courage',
      'turn to ideas',
      'take time to win',
      'take competitors by force',
      'twist the truth',
      'truth and time management',
      'truth and ideas',
      'truth and success',
      'truth and collaboration',
      'truth and courage',
      'turn up the heat',
      'take a dive',
      'try change',
      'try success',
      'try profits',
      'try winning',
      'try collaboration',
      'try and try again',
      'twist words to win',
      'total domination',
      'tweak a nudge',
      'try being cheap',
      'tremble when scared',
      'tame the untameable',
      'twister is not office approved'
  ],

  u: [
      'underachieve',
      'underwhelm',
      'use good judgement',
      'unilateral decision making',
      'unimaginative ideas',
      'understanding',
      'understanding ideas',
      'understanding demand',
      'understanding sales',
      'understanding decisions',
      'undo your mistakes',
      'undo your failures',
      'undo your fear',
      'undo your doubt',
      'ubiquitous ubiquity'
  ],

  v: [
    'vulcanize your drive',
    'vacate fear',
    'vote for courage',
    'validate profits',
    'validate sales',
    'validate self',
    'validate success',
    'visible ideas',
    'visible imagination',
    'vroom vroom the business',
    'velociraptor the weak'
  ],

  w: [
    'watch greatness',
    'wish for change',
    'wish for courage',
    'water down ideas',
    'waffle on ideas',
    'wag the dog',
    'wind up the business',
    'waiver on the complex',
    'witness imagination',
    'witness change',
    'witness struggle',
    'wise up',
    'worry for nothing',
    'where\'s waldo?'
  ],

  x: [
    'x-amine ideas',
    'x-ceed goals',
    'x-ceed the normal',
    'x-treme profits',
    'x-ert dominance',
    'x-ert compliance',
    'x-ceed greatness',
    'x is a stupid letter'
  ],

  y: [
    'you are the engine',
    'you make business run',
    'you are the idea',
    'y axis to 100%',
    'you are courage',
    'you are success',
    'you are profit',
    'yesterday is not today',
    'yesterday was yesterday',
    'yesterday\'s idea is today\'s success',
    'you are courage',
    'you believe in you',
    'you are sales',
    'youth is the product of invention',
    'yes is the best no',
    'yes is not a no',
    'yes is an idea',
    'yes is power',
    'yes is courage',
    'yes is not fear',
    'yes is never no',
    'yesterday is never today',
    'yes rhymes with business'
  ],

  z: [
    'zanny ideas are still ideas',
    'zuckerburg had an idea',
    'ziti is the pasta of success',
    'zero is the number of times you should fail',
    'zero is more than nothing',
    'zero is still a number',
    'zero is not a target',
    'zero courage is not dominance',
    'zero mistakes',
    'zero hate',
    'zero forfeiture',
    'zero tolerance',
    'zero windbreakers',
    'zero is an idea thats ready to be a one',
    'zero cannot be divided'
  ]

}
console.log(thanos.a.length);

// TAKES INPUT OF THANOS OBJECT AND INPUT OF LETTER FROM STRING SPLIT BELOW TO RETURN A RANDOM NUMBER BASED ON THE INDIVIDUAL ARRAY LENGHT OF THE INPUT LETTER

const randomLetter = function(obj, val){
  result = Math.floor(Math.random() * obj[val].length)
  console.log(obj[val].length);
  console.log(result);
  return result
}

// QUICK RANDOM ASSIGNMENT BASED ON KNOWN ARRAY INPUT

const randArrPick = function(arr){
  con = Math.floor(Math.random() * arr.length)
  return arr[con]
}

// NEEDS REFACTORING - BUT THIS FUNCTION AS IT STANDS DOES MANY THINGS
// FIRST WE GET THE MERRIAM-WESBSTER API RESULTS IN ASYNC FUNCTION
// THEN WE CHECK IF THAT RESPONSE CONTAINS WHAT WE NEED - A DEF AND A LIST OF META data
// IF IT DOESN'T, WE RETURN PRETTY BASIC RESULTS FROM THE API AND GIVE A STANDARD MESSAGE
// IF IT DOES, WE CREATE DIVS AND UL LISTS TO HOUSE THE DATA FROM THE API
// THE API IS HEAVILY NESTED SO MANY FOR LOOPS AND WHILE LOOPS DO THE HEAVY LIFTING
// END RESULT IS CONTENT DEFINITIONS SPECIFIC TO INPUT AND OTHER SYNONYM SUGGESTIONS
// JQUERY IS USED TO FADE THESE IN - TIMING EVENTS WAS TRICKY SO I USE VARIABLES TO TIME EVENTS BASED ON THE LAST EVENT FINISHING
// PROLLY A LIBRARY FOR THAT...
// NOTICE THE FUNC TAKES PARAMS FOR WORD AND TIMING

const getDef = async function(paramW, paramC){

  $('#breakQ').empty()
  $('#breakP').empty()
  $('#mwLogo').hide()
  const response = await fetch("https://dictionaryapi.com/api/v3/references/thesaurus/json/" + paramW + "?key=5b5fb80f-b35f-4d88-a308-5435b2c0de50")
  const dictData = await response.json()
  console.log(dictData);

// CHECKING FOR SPECIFIC DATA - CANT JUST DO A 200/400 CHECK AS THERE IS ALWAYS A SUCCESSFUL RETURN EVEN IF THE WORD DOESN'T EXIST
// IF DATA DOESN'T RETURN EXPECTED RESULT - FASHION A BASIC CANNED RESPONSE THAT IS SOMEWHAT DYNAMIC

  if (dictData[0]['meta'] === undefined || dictData[0]['shortdef'] === undefined) {
    const mwLogoDiv = document.querySelector('#mwLogo')
    const defDiv = document.createElement('ul')
    defDiv.id = 'defDiv'
    defDiv.classList.add = 'col-6'
    defDiv.style.display = 'none'
    defDiv.textContent = 'Couldn\'t locate ' + paramW + ' maybe you meant: '
    const mainDiv = document.querySelector('#breakP')
    mainDiv.appendChild(defDiv)
    for (var i = 0; i < dictData.length; i++) {
      const innerDef = document.createElement('li')
      innerDef.textContent = dictData[i]
      innerDef.id = "innerDef" + [i]
      defDiv.appendChild(innerDef)
    }
    $(defDiv).delay(paramC+500).fadeIn('slow')
    $(mwLogoDiv).delay(paramC+1500).fadeIn('fast')
// ELSE WE ATTACK THE API AND ALL THE NESTING
  } else {
// THIS PULLS THE SYNONYMS AND BUILDS THEM INTO A NEW ARRAY
      let synsArr = []
      let synsArrSplit = []
      let finalSyns = []
      for (var v = 0; v < dictData.length; v++) {
        let mysyns = dictData[v]['meta']['syns']
        console.log(mysyns);
        for (var w = 0; w < mysyns.length; w++) {
          let tempsyns = mysyns[w]
            for (var p = 0; p < tempsyns.length; p++) {
              synsArrSplit.push(tempsyns[p])
            }
        }
      }
// IF THE NEW ARRAY IS OF CERTAIN LENGTH ONLY GIVE UP TO 15 SUGGESTIONS - IF IT'S SMALLER THAN 15 - GIVE ALL THAT EXIST
      if (synsArrSplit.length < 14) {
          finalSyns = synsArrSplit
        } else {
        for (var s = 0; s < 16; s++) {
          let selectThes = randArrPick(synsArrSplit)
          if (!finalSyns.includes(selectThes)) {
            finalSyns.push(selectThes)
          } else {
            while (finalSyns.includes(selectThes)) {
              selectThes = randArrPick(synsArrSplit)
            }
            finalSyns.push(selectThes)
          }
        }
      }
      console.log(synsArrSplit);
      console.log(finalSyns);
      console.log(dictData[0]['fl']);
      const def = dictData[0]['shortdef']
// THIS GETS ALL TYPES OF DEFS FROM API OBJECT ARRAY - FOR INSTANCE NOUN DEFS ADJ DEFS AND VERB DEFS IF THEY EXIST
      const finalDefwType = []
      for (var c = 0; c < dictData.length; c++) {
        let typeW = dictData[c]['fl'] + ': '
        for (var d = 0; d < dictData[c]['shortdef'].length; d++) {
          let comboW = typeW + dictData[c]['shortdef'][d]
          finalDefwType.push(comboW)
        }
      }
      console.log(finalDefwType);
      let defContent = ''
// THIS BUILDS THE DEFINITION DIV AND ITS CONTENTS AND ALSO ASSIGNS THE LOGO DIV
      const mwLogoDiv = document.querySelector('#mwLogo')
      const defDiv = document.createElement('ul')
      defDiv.id = 'defDiv'
      defDiv.classList.add = 'col-6'
      defDiv.style.display = 'none'
      defDiv.textContent = 'Definition for ' + paramW + ':'
// THIS BUILDS THE THESAURUS SYNS SECTION AND ITS CONTENTS
      const thesDiv = document.createElement('ul')
      thesDiv.id = 'thesDiv'
      thesDiv.classList.add = 'col-6'
      thesDiv.style.display = 'none'
      thesDiv.textContent = 'Similar to ' + paramW + ':'
// THIS WORKS ON THE DEFINITION ARRAY AND CREATES A NEW LIST ITEM FOR EVERY DEF THAT EXISTS

      const mainDiv = document.querySelector('#breakP')
      mainDiv.appendChild(defDiv)
      for (var i = 0; i < finalDefwType.length; i++) {
        const innerDef = document.createElement('li')
        innerDef.textContent = finalDefwType[i]
        innerDef.id = "innerDef" + [i]
        defDiv.appendChild(innerDef)
      }
// THIS WORKS THE THESAURUS ARRAY AND CREATES A NEW LIST ITEM FOR EVERY SYN THAT EXISTS

      const secMainDiv = document.querySelector('#breakQ')
      secMainDiv.appendChild(thesDiv)
      for (var q = 0; q < finalSyns.length; q++) {
        const innerThes = document.createElement('li')
        innerThes.textContent = finalSyns[q]
        innerThes.id = "innerThes" + [q]
        thesDiv.appendChild(innerThes)
      }
// THIS FADES THE ELEMENTS IN NICELY - NOTE THE TIME PARAMS USED
      $(defDiv).delay(paramC+1000).fadeIn('slow')
      $(thesDiv).delay(paramC+500).fadeIn('slow')
      $(mwLogoDiv).delay(paramC+1500).fadeIn('fast')
    }
}

// THIS INTERPRETS THE USER INPUT - SPLITS THE STRING INTO AN ARRAY AND FOR EACH LETTER USES FUCNTIONS TO GET RANDOM STATEMENTS FROM THE APPROPRIATE LETTER IN THANOS OBJECT ARRAY
// RETURNS RESULT AS AN ARRAY
const getValue = function(inputVal){
  let broken = inputVal.split('')
  let resultArr = []
  for (var i = 0; i < broken.length; i++) {
    let parseArr = randomLetter(thanos, broken[i])
    if (!resultArr.includes(thanos[broken[i]][parseArr])) {
      resultArr.push(thanos[broken[i]][parseArr])
    } else {
      while (resultArr.includes(thanos[broken[i]][parseArr])) {
        parseArr = randomLetter(thanos, broken[i])
      }
      resultArr.push(thanos[broken[i]][parseArr])
    }
  }
  return resultArr
}

// CLEANS CONTENT IF IT EXISTS AND CREATES THE DIVS TO SUPPLY THE RESULTS
const supplyValues = function(param){
  $('#mainContain').empty()
  $('#welcome').fadeIn(500)
  const mResult = getValue(param.trim())
  const uiputSpl = param.split('')
  const getEl = document.getElementById('mainContain')
  let timeOne = 1000
  let timeTwo = 1500
  for (var i = 0; i < uiputSpl.length; i++) {

    const contDiv = document.createElement('div')
    const letterDiv = document.createElement('div')
    contDiv.id = "contDiv"
    letterDiv.style.display ='none'
    letterDiv.textContent = uiputSpl[i]
    const arrResDiv = document.createElement('div')
    arrResDiv.style.display = 'none'
    arrResDiv.textContent = mResult[i]
    contDiv.classList.add('row')
    letterDiv.classList.add('col-1')
    letterDiv.id = 'letDink' + '-' + [i]
    arrResDiv.classList.add('col-8')
    arrResDiv.id = 'arrDunk' + '-' + [i]
    getEl.appendChild(contDiv)
    contDiv.appendChild(letterDiv)
    contDiv.appendChild(arrResDiv)
  }
  for (var b = 0; b < uiputSpl.length; b++) {
    $('#letDink-'+[b]).delay(timeOne).fadeIn('fast')
    timeOne += 1000
  }
  for (var c = 0; c < uiputSpl.length; c++) {
    $('#arrDunk-'+[c]).delay(timeTwo).fadeIn('slow')
    timeTwo += 1000
  }
  return timeTwo
  console.log(timeOne+timeTwo);
}
// DOM LISTENS FOR CLICK OR ENTER KEY FORM SUBMIT
document.querySelector('#hrGen').addEventListener('submit', function(e){
  e.preventDefault()
  const uIput = e.target.elements.acronymIP.value.toLowerCase().trim()
  const finalCalc = supplyValues(uIput)
  console.log(finalCalc);
  getDef(uIput, finalCalc)
})
